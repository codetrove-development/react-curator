!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.Curator=e(require("react"),require("react-dom")):t.Curator=e(t.React,t.ReactDOM)}(window,function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(e,n){e.exports=t},function(t,e,n){const r=n(4);t.exports=n(5).default,t.exports.helpers=n(6).default,t.exports.defaultGridOptions=r.defaultGridOptions,t.exports.defaultItemOptions=r.defaultItemOptions,t.exports.renderModeType=r.renderModeType,t.exports.resizeOptions=r.resizeOptions,t.exports.defaultPlaceholderStyles=r.defaultPlaceholderStyles},function(t,e,n){t.exports=function(t,e){"use strict";function n(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t){return function(){return t}}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t};var o=i,s=function(t){};s=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")};var a=function(t,e,n,r,i,o,a,u){if(s(e),!t){var d;if(void 0===e)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,u],c=0;(d=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw d.framesToPop=1,d}},u=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(t){}}).apply(void 0,[e].concat(r))}},d=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))l.call(n,s)&&(i[s]=n[s]);if(d){r=d(n);for(var a=0;a<r.length;a++)c.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h=a,g=u,m=f,y={},v=function(t,e,n,r,i){for(var o in t)if(t.hasOwnProperty(o)){var s;try{h("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof t[o]),s=t[o](e,o,r,n,null,m)}catch(t){s=t}if(g(!s||s instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),s instanceof Error&&!(s.message in y)){y[s.message]=!0;var a=i?i():"";g(!1,"Failed %s type: %s%s",n,s.message,null!=a?a:"")}}},b=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator",i="<<anonymous>>",s={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:l(o.thatReturnsNull),arrayOf:function(t){return l(function(e,n,r,i,o){if("function"!=typeof t)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var a=g(s);return new d("Invalid "+i+" `"+o+"` of type `"+a+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var l=t(s,u,r,i,o+"["+u+"]",f);if(l instanceof Error)return l}return null})},element:l(function(e,n,r,i,o){var s=e[n];if(!t(s)){var a=g(s);return new d("Invalid "+i+" `"+o+"` of type `"+a+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}),instanceOf:function(t){return l(function(e,n,r,o,s){if(!(e[n]instanceof t)){var a=t.name||i,u=(l=e[n]).constructor&&l.constructor.name?l.constructor.name:i;return new d("Invalid "+o+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}var l;return null})},node:l(function(t,e,n,r,i){return h(t[e])?null:new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(t){return l(function(e,n,r,i,o){if("function"!=typeof t)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],a=g(s);if("object"!==a)return new d("Invalid "+i+" `"+o+"` of type `"+a+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var l=t(s,u,r,i,o+"."+u,f);if(l instanceof Error)return l}return null})},oneOf:function(t){return Array.isArray(t)?l(function(e,n,r,i,o){for(var s=e[n],a=0;a<t.length;a++)if(u=s,l=t[a],u===l?0!==u||1/u==1/l:u!=u&&l!=l)return null;var u,l,c=JSON.stringify(t);return new d("Invalid "+i+" `"+o+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+c+".")}):(u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(t){if(!Array.isArray(t))return u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return u(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",y(n),e),o.thatReturnsNull}return l(function(e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s];if(null==a(e,n,r,i,o,f))return null}return new d("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")})},shape:function(t){return l(function(e,n,r,i,o){var s=e[n],a=g(s);if("object"!==a)return new d("Invalid "+i+" `"+o+"` of type `"+a+"` supplied to `"+r+"`, expected `object`.");for(var u in t){var l=t[u];if(l){var c=l(s,u,r,i,o+"."+u,f);if(c)return c}}return null})},exact:function(t){return l(function(e,n,r,i,o){var s=e[n],a=g(s);if("object"!==a)return new d("Invalid "+i+" `"+o+"` of type `"+a+"` supplied to `"+r+"`, expected `object`.");var u=p({},e[n],t);for(var l in u){var c=t[l];if(!c)return new d("Invalid "+i+" `"+o+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var h=c(s,l,r,i,o+"."+l,f);if(h)return h}return null})}};function d(t){this.message=t,this.stack=""}function l(t){var n={},r=0;function o(o,s,l,c,p,h,g){if(c=c||i,h=h||l,g!==f)if(e)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=c+":"+l;!n[m]&&r<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,c),n[m]=!0,r++)}return null==s[l]?o?null===s[l]?new d("The "+p+" `"+h+"` is marked as required in `"+c+"`, but its value is `null`."):new d("The "+p+" `"+h+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:t(s,l,c,p,h)}var s=o.bind(null,!1);return s.isRequired=o.bind(null,!0),s}function c(t){return l(function(e,n,r,i,o,s){var a=e[n];if(g(a)!==t){var u=m(a);return new d("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `"+t+"`.")}return null})}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||t(e))return!0;var i=function(t){var e=t&&(n&&t[n]||t[r]);if("function"==typeof e)return e}(e);if(!i)return!1;var o,s=i.call(e);if(i!==e.entries){for(;!(o=s.next()).done;)if(!h(o.value))return!1}else for(;!(o=s.next()).done;){var a=o.value;if(a&&!h(a[1]))return!1}return!0;default:return!1}}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function m(t){if(void 0===t||null===t)return""+t;var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function y(t){var e=m(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return d.prototype=Error.prototype,s.checkPropTypes=v,s.PropTypes=s,s},w=n(function(t){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=b(function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},!0)}),x=n(function(t){
/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i))t.push(n.apply(null,i));else if("object"===o)for(var s in i)e.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}t.exports?t.exports=n:window.classNames=n}()});function P(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function S(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function O(t){return"number"==typeof t&&!isNaN(t)}function I(t){return parseInt(t,10)}function R(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}var D=["Moz","Webkit","O","ms"];function z(t,e){return e?""+e+function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t):t}var M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<D.length;n++)if(z(t,D[n])in e)return D[n];return""}(),j=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),G=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},T=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},N=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_="";function H(t,e){return _||(_=P(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return S(t[e])})),!!S(t[_])&&t[_](e)}function W(t,e,n){var r=t;do{if(H(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Y(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function A(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function X(t){if(t){var e,n,r=t.getElementById("react-draggable-style-el");r||((r=t.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",t.getElementsByTagName("head")[0].appendChild(r)),t.body&&(e=t.body,n="react-draggable-transparent-selection",e.classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(e.className+=" "+n))}}function L(t){try{t&&t.body&&(e=t.body,n="react-draggable-transparent-selection",e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),t.selection?t.selection.empty():window.getSelection().removeAllRanges()}catch(t){}var e,n}function B(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(r);var i=F(t);if("string"==typeof r){var o=i.ownerDocument,s=o.defaultView,a=void 0;if(!((a="parent"===r?i.parentNode:o.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=s.getComputedStyle(i),d=s.getComputedStyle(a);r={left:-i.offsetLeft+I(d.paddingLeft)+I(u.marginLeft),top:-i.offsetTop+I(d.paddingTop)+I(u.marginTop),right:function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=I(n.paddingLeft),e-=I(n.paddingRight)}(a)-function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=I(n.borderLeftWidth),e+=I(n.borderRightWidth)}(i)-i.offsetLeft+I(d.paddingRight)-I(u.marginRight),bottom:function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=I(n.paddingTop),e-=I(n.paddingBottom)}(a)-function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=I(n.borderTopWidth),e+=I(n.borderBottomWidth)}(i)-i.offsetTop+I(d.paddingBottom)-I(u.marginBottom)}}return O(r.right)&&(e=Math.min(e,r.right)),O(r.bottom)&&(n=Math.min(n,r.bottom)),O(r.left)&&(e=Math.max(e,r.left)),O(r.top)&&(n=Math.max(n,r.top)),[e,n]}function q(t,e,n){var r="number"==typeof e?function(t,e){return t.targetTouches&&P(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&P(t.changedTouches,function(t){return e===t.identifier})}(t,e):null;if("number"==typeof e&&!r)return null;var i=F(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return function(t,e){var n=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),r=t.clientX+e.scrollLeft-n.left,i=t.clientY+e.scrollTop-n.top;return{x:r,y:i}}(r||t,o)}function U(t,e,n){var r=t.state,i=!O(r.lastX),o=F(t);return i?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function V(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function F(e){var n=t.findDOMNode(e);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var J={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},$=J.mouse,K=function(n){function r(){var e,n,i;j(this,r);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=T(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(s))),n=i,i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(e){if(i.props.onMouseDown(e),!i.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(e.target instanceof r.defaultView.Node)||i.props.handle&&!W(e.target,i.props.handle,n)||i.props.cancel&&W(e.target,i.props.cancel,n))){var o=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}(e);i.setState({touchIdentifier:o});var s=q(e,o,i);if(null!=s){var a=s.x,u=s.y,d=U(i,a,u);i.props.onStart;var l=i.props.onStart(e,d);!1!==l&&(i.props.enableUserSelectHack&&X(r),i.setState({dragging:!0,lastX:a,lastY:u}),Y(r,$.move,i.handleDrag),Y(r,$.stop,i.handleDragStop))}}},i.handleDrag=function(t){"touchmove"===t.type&&t.preventDefault();var e=q(t,i.state.touchIdentifier,i);if(null!=e){var n=e.x,r=e.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,s=r-i.state.lastY,a=function(t,e,n){var r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}(i.props.grid,o,s),u=N(a,2);if(o=u[0],s=u[1],!o&&!s)return;n=i.state.lastX+o,r=i.state.lastY+s}var d=U(i,n,r),l=i.props.onDrag(t,d);if(!1!==l)i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(t){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(e){if(i.state.dragging){var n=q(e,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,s=U(i,r,o),a=t.findDOMNode(i);a&&i.props.enableUserSelectHack&&L(a.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(e,s),a&&(A(a.ownerDocument,$.move,i.handleDrag),A(a.ownerDocument,$.stop,i.handleDragStop))}}},i.onMouseDown=function(t){return $=J.mouse,i.handleDragStart(t)},i.onMouseUp=function(t){return $=J.mouse,i.handleDragStop(t)},i.onTouchStart=function(t){return $=J.touch,i.handleDragStart(t)},i.onTouchEnd=function(t){return $=J.touch,i.handleDragStop(t)},T(i,n)}return k(r,n),C(r,[{key:"componentWillUnmount",value:function(){var e=t.findDOMNode(this);if(e){var n=e.ownerDocument;A(n,J.mouse.move,this.handleDrag),A(n,J.touch.move,this.handleDrag),A(n,J.mouse.stop,this.handleDragStop),A(n,J.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&L(n)}}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({touchAction:"none"},t)}(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(e.Component);K.displayName="DraggableCore",K.propTypes={allowAnyClick:w.bool,disabled:w.bool,enableUserSelectHack:w.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:w.arrayOf(w.number),scale:w.number,handle:w.string,cancel:w.string,onStart:w.func,onDrag:w.func,onStop:w.func,onMouseDown:w.func,className:R,style:R,transform:R},K.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var Q=function(n){function r(t){j(this,r);var e=T(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.onDragStart=function(t,n){var r=e.props.onStart(t,V(e,n));if(!1===r)return!1;e.setState({dragging:!0,dragged:!0})},e.onDrag=function(t,n){if(!e.state.dragging)return!1;var r=V(e,n),i={x:r.x,y:r.y};if(e.props.bounds){var o=i.x,s=i.y;i.x+=e.state.slackX,i.y+=e.state.slackY;var a=B(e,i.x,i.y),u=N(a,2),d=u[0],l=u[1];i.x=d,i.y=l,i.slackX=e.state.slackX+(o-i.x),i.slackY=e.state.slackY+(s-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-e.state.x,r.deltaY=i.y-e.state.y}var c=e.props.onDrag(t,r);if(!1===c)return!1;e.setState(i)},e.onDragStop=function(t,n){if(!e.state.dragging)return!1;var r=e.props.onStop(t,V(e,n));if(!1===r)return!1;var i={dragging:!1,slackX:0,slackY:0},o=Boolean(e.props.position);if(o){var s=e.props.position,a=s.x,u=s.y;i.x=a,i.y=u}e.setState(i)},e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},e}return k(r,n),C(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&t.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,n,r,i,o={},s=null,a=Boolean(this.props.position),u=!a||this.state.dragging,d=this.props.position||this.props.defaultPosition,l={x:function(t){return"both"===t.props.axis||"x"===t.props.axis}(this)&&u?this.state.x:d.x,y:function(t){return"both"===t.props.axis||"y"===t.props.axis}(this)&&u?this.state.y:d.y};this.state.isElementSVG?(r=(n=l).x,i=n.y,s="translate("+r+","+i+")"):o=function(t){var e=t.x,n=t.y;return G({},z("transform",M),"translate("+e+"px,"+n+"px)")}(l);var c=this.props,p=c.defaultClassName,f=c.defaultClassNameDragging,h=c.defaultClassNameDragged,g=e.Children.only(this.props.children),m=x(g.props.className||"",p,(G(t={},f,this.state.dragging),G(t,h,this.state.dragged),t));return e.createElement(K,E({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(g,{className:m,style:E({},g.props.style,o),transform:s}))}}]),r}(e.Component);return Q.displayName="Draggable",Q.propTypes=E({},K.propTypes,{axis:w.oneOf(["both","x","y","none"]),bounds:w.oneOfType([w.shape({left:w.number,right:w.number,top:w.number,bottom:w.number}),w.string,w.oneOf([!1])]),defaultClassName:w.string,defaultClassNameDragging:w.string,defaultClassNameDragged:w.string,defaultPosition:w.shape({x:w.number,y:w.number}),position:w.shape({x:w.number,y:w.number}),className:R,style:R,transform:R}),Q.defaultProps=E({},K.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),Q.default=Q,Q.DraggableCore=K,Q}(n(3),n(0))},function(t,n){t.exports=e},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/options.js")}({"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(t,e,n){"use strict";n.r(e),n.d(e,"renderModeType",function(){return r}),n.d(e,"resizeOptions",function(){return i}),n.d(e,"defaultItemOptions",function(){return o}),n.d(e,"defaultGridOptions",function(){return a}),n.d(e,"defaultPlaceholderStyles",function(){return s});var r={flex:"flex",fixed:"fixed"},i={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,classes:[],glued:!1,visible:!0,canResize:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},a={gridColumns:12,gridRows:12,width:"100%",height:"100%",itemClassName:"grid-item",classes:[],renderMode:r.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:i.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(t,e,n){},onAllTransitionsComplete:function(t,e,n){},resizeClassName:"snap-resize-handle",enableCSS3:!0,algorithm:null}}})},t.exports=r()},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/curator-core.js")}({"./src/curator-core.js":
/*!*****************************!*\
  !*** ./src/curator-core.js ***!
  \*****************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var r=n(/*! ./helpers */"./src/helpers.js"),i=n(/*! ./options */"./src/options.js");function o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default={getItemStyles:function(){return{boxSizing:"border-box",position:"absolute"}},getItemClasses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.defaultItemOptions,e=u(t.classes).concat([t.itemClassName]);return t.glued&&e.push("snapper-glued"),e},getEmptyGrid:function(t){for(var e=[],n=0;n<t;n++)e.push([]);return e},getItemPosition:function(t,e,n,r,o,a,u,d,l){return l===i.renderModeType.flex?s({},this.getItemPositionPixels(t,e,n,r,o,a,u,d),this.getItemPositionPercentages(t,e,n,r,o,a,u,d)):this.getItemPositionPixels(t,e,n,r,o,a,u,d)},getItemPositionPercentages:function(t,e,n,r,i,o,s,a){var u=Math.floor(t/r),d=Math.floor(e/n),l=t-u*r,c=e-d*n,p=49/t/100,f=49/e/100,h=Math.min(s,l),g=Math.min(i+s,l)-h,m=Math.min(a,c);return{leftPct:100*(s*u+h)/t+p,widthPct:100*(i*u+g)/t+p,topPct:100*(a*d+m)/e+f,heightPct:100*(o*d+(Math.min(o+a,c)-m))/e+f,ending:"%"}},getItemPositionPixels:function(t,e,n,r,i,o,s,a){var u=Math.floor(t/r),d=Math.floor(e/n),l=t-u*r,c=e-d*n,p=Math.min(s,l),f=Math.min(i+s,l)-p,h=Math.min(a,c);return{widthPx:u*i+f,heightPx:d*o+(Math.min(o+a,c)-h),topPx:d*a+h,leftPx:u*s+p,ending:"px"}},updateMovedItem:function(t,e,n){var r=t.newX,i=t.newY,o=t.newWidth,a=t.newHeight,u=e.gridWidth,d=e.gridHeight,l=e.gridRows,c=e.gridColumns,p=n.renderMode,f=s({},t);if(!o||!a)return console.error("Item ".concat(key," does not have a newWidth or newHeight value. Unable to correctly resize item")),t;f.x=r,f.y=i,f.width=o,f.height=a;var h=this.getItemPosition(u,d,l,c,f.width,f.height,f.x,f.y,p),g=this.getItemPositionStyles(n,f.styles,h);return f.position=s({},h),f.styles=s({},g),f},updateGridWithMovedItems:function(t,e){for(var n in e){var r=e[n];this.updateGridWithItemMovement(t,r,r.x,r.y,r.width,r.height)}},getUpdatedMovedItems:function(t,e,n,r,i,o,a,u){var d=this;return t.forEach(function(t){var l=d.updateMovedItem(t,a,u);if(key===e){var c=s({},l.position,{ending:"px",topPx:n,leftPx:r,widthPx:i,heightPx:o}),p=d.getItemPositionStyles(u,l.styles,c);l.position=s({},c),l.styles=s({},p)}return l})},getUpdatedGridSizeItems:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e.renderMode,a=n.gridRows,u=n.gridColumns,d=n.gridHeight,l=n.gridWidth;return t.map(function(t){if(!(i.indexOf(t.id)>-1)){var n=r.getItemPosition(l,d,a,u,t.width,t.height,t.x,t.y,o);return s({},t,{position:n,styles:r.getItemPositionStyles(e,t.styles,n)})}})},getGridBoundaries:function(t){return{leftBoundary:0,rightBoundary:t.gridWidth,topBoundary:0,bottomBoundary:t.gridHeight}},getItemSizing:function(t,e){var n=e.gridWidth,r=e.gridHeight,i=t.width,o=t.height;return{itemWidthPx:i*(n/gridColumns),itemHeightPx:o*(r/gridRows)}},calculateGridMatrixSize:function(t,e,n){var r=e.itemsCanResizeGrid,i=e.resizeGridDirections,o=n.gridRows,s=n.gridColumns,a=r&&"y"!==i,u=r&&"x"!==i;if(!a&&!u)return{rows:o,columns:s};var d=0,l=0;return t.forEach(function(t){var e=t.x+t.width,n=t.y+t.height;e>l&&(l=e),n>d&&(d=n)}),{rows:u?Math.max(d,o):o,columns:a?Math.max(l,s):s}},calculateGridSize:function(t,e,n,r){var i=e.gridRows,o=e.gridColumns;return{newGridWidth:t.widthPx/o*r,newGridHeight:t.heightPx/i*n}},calculateMovementChange:function(t,e,n,r){var i=e.itemsCanResizeGrid,o=i&&"y"!==e.resizeGridDirections,s=i&&"x"!==e.resizeGridDirections,a=n.widthPx/e.gridColumns,u=n.heightPx/e.gridRows,d=r.currentMouseX-r.initialMouseX,l=r.currentMouseY-r.initialMouseY,c=r.initialLeft+d,p=r.initialTop+l,f=Math.round(c/a),h=Math.round(p/u);return f<0?f=0:f+1>e.gridColumns&&!o&&(f=e.gridColumns-1),h<0?h=0:h+1>e.gridRows&&!s&&(h=e.gridRows-1),{newX:f,newY:h,newLeftPx:c,newTopPx:p}},calculateResizeChange:function(t,e,n,r){var i=n.widthPx/e.gridColumns,o=n.heightPx/e.gridRows,s=r.currentMouseX-r.initialMouseX,a=r.currentMouseY-r.initialMouseY,u=r.initialWidth+s,d=r.initialHeight+a,l=Math.round(u/i),c=Math.round(d/o);return u<i&&(l=1,u=i),d<o&&(c=1,d=o),{newWidthPx:u,newHeightPx:d,newWidth:l,newHeight:c,newLeftPx:t.position.leftPx,newTopPx:t.position.topPx}},calculatePositionChange:function(t,e){var n=e.gridSizing,r=e.gridOptions,i=n.widthPx/r.gridColumns,o=n.heightPx/r.gridRows;return{newWidthPx:Math.round(i*t.width),newHeightPx:Math.round(o*t.height),newLeftPx:Math.round(i*t.x),newTopPx:Math.round(o*t.y),newX:t.x,newY:t.y,newWidth:t.width,newHeight:t.height}},getNoMovementResult:function(t,e,n){var r=s({},e,{position:s({},e.position,{ending:"px",topPx:n.newTopPx,leftPx:n.newLeftPx,widthPx:n.newWidthPx,heightPx:n.newHeightPx})}),i=t.items.map(function(t){return t.id==r.id?r:t});return{success:!0,grid:t.grid,updatedItems:i,targetItem:r,gridSizing:t.gridSizing,movementChange:n,itemsMoved:!1}},itemHasMoved:function(t,e){return e.newX!=t.x||e.newY!=t.y},itemHasResized:function(t,e){return e.newWidth!==t.width||e.newHeight!==t.height},checkProposedGridSizing:function(t,e,n){var r=t.gridOptions,o=r.resizeGridDirections!==i.resizeOptions.y,s=r.resizeGridDirections!==i.resizeOptions.x;if(!o&&e!==r.gridColumns||r.gridColumns<1)throw"Invalid grid column proposition from algorithm";if(!s&&n!==r.gridRows||r.gridRows<1)throw"Invalid grid row proposition from algorithm"},getPlaceholderStyles:function(t){return s({},i.defaultPlaceholderStyles,{left:"".concat(t.leftPx,"px"),top:"".concat(t.topPx,"px"),width:"".concat(t.widthPx,"px"),height:"".concat(t.heightPx,"px")})},addItemToGrid:function(t,e){var n={newX:t.x,newY:t.y,newWidth:t.width,newHeight:t.height,newTopPx:t.position.topPx,newLeftPx:t.position.leftPx,newWidthPx:t.position.widthPx,newHeightPx:t.position.heightPx};return this.onItemMovement(t,e,n)},movementIsWithinBounds:function(t,e){var n=e.gridColumns,r=e.gridRows,i=e.itemsCanResizeGrid,o=e.resizeGridDirections,s=t.newX,a=t.newY,u=t.newWidth,d=t.newHeight;return(i&&"y"!==o||s+u<=n)&&(i&&"x"!==o||a+d<=r)},onItemMovement:function(t,e,n){var r=this,i=e.gridOptions.renderMode,o=e.gridOptions,a=this.getNoMovementResult(e,t,n),u=s({},t);if(!this.movementIsWithinBounds(n,o))return a;var d=o.algo.run(e,u,n.newX,n.newY,n.newWidth,n.newHeight);if(!d.success)return a;var l=d.gridColumns!==o.gridColumns||d.gridRows!==o.gridRows,c=e.gridSizing.widthPx,p=e.gridSizing.heightPx;if(l){this.checkProposedGridSizing(e,d.gridColumns,d.gridRows);var f=this.calculateGridSize(e.gridSizing,o,d.gridRows,d.gridColumns);c=f.newGridWidth,p=f.newGridHeight}var h=Object.keys(d.itemsToMove).map(function(t){var e=d.itemsToMove[t],a=r.getItemPosition(c,p,d.gridRows,d.gridColumns,e.width,e.height,e.x,e.y,i);if(e.id===u.id){var l=r.getPlaceholderStyles(a);e.meta=s({},e.meta,{placeholderStyles:l}),e.position=s({},e.position,{ending:"px",topPx:n.newTopPx,leftPx:n.newLeftPx,widthPx:n.newWidthPx,heightPx:n.newHeightPx}),e.styles=r.getItemPositionStyles(o,e.styles,e.position),console.log(e.styles)}else e.position=a,e.styles=r.getItemPositionStyles(o,e.styles,a);return e});return{success:d.success,grid:e.grid,updatedItems:h,itemsMoved:Object.keys(d.itemsToMove).length>1,targetItem:u,movementChange:n,gridSizing:{gridRows:d.gridRows,gridColumns:d.gridColumns,heightPx:p,widthPx:c}}},onItemPositionChanged:function(t,e,n){var r=this.calculatePositionChange(t,n);return this.positionHasChanged(t,e)?this.onItemMovement(e,n,r):this.getNoMovementResult(n,e,r)},positionHasChanged:function(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height},onItemDragStart:function(t){if(t.glued)return{item:t,success:!1};var e=this.getPlaceholderStyles(t.position);return{item:s({},t,{meta:s({},t.meta,{isDragging:!0,placeholderStyles:e})}),success:!0}},onItemDrag:function(t,e,n){var r=s({},this.calculateMovementChange(t,e.gridOptions,e.gridSizing,n),{newWidth:t.width,newHeight:t.height,newWidthPx:t.position.widthPx,newHeightPx:t.position.heightPx});return!t.meta.isDragging||t.glued?this.getNoMovementResult(e,t,r):this.itemHasMoved(t,r)?this.onItemMovement(t,e,r):this.getNoMovementResult(e,t,r)},onItemDragStop:function(t,e,n,r,i,o){var a=t.width,u=t.height,d=t.x,l=t.y,c=i.gridRows,p=i.gridColumns,f=i.renderMode,h=s({},t.meta,{isDragging:!1}),g=this.getItemPosition(n,r,c,p,a,u,d,l,f);return s({},t,{position:g,styles:this.getItemPositionStyles(i,t.styles,g),meta:h})},onItemResizeStart:function(t){return t.glued?{item:t,success:!1}:{item:s({},t,{meta:s({},t.meta,{isResizing:!0})}),success:!0}},onItemResize:function(t,e,n){var r=s({},this.calculateResizeChange(t,e.gridOptions,e.gridSizing,n),{newX:t.x,newY:t.y,newLeftPx:t.position.leftPx,newTopPx:t.position.topPx});return!t.meta.isResizing||t.glued?this.getNoMovementResult(e,t,r):this.itemHasResized(t,r)?this.onItemMovement(t,e,r):this.getNoMovementResult(e,t,r)},onItemResizeStop:function(t,e,n,r,i,o){var a=t.width,u=t.height,d=t.x,l=t.y,c=i.gridRows,p=i.gridColumns,f=i.renderMode,h=s({},t.meta,{isResizing:!1}),g=this.getItemPosition(n,r,c,p,a,u,d,l,f);return s({},t,{position:g,styles:this.getItemPositionStyles(i,t.styles,g),meta:h})},updateGridWithItemMovement:function(t,e,n,r,i,o){var s=e.id,a=e.x,u=e.y,d=e.width,l=e.height;this.ensureGridHasRow(t,u),this.setGridWithValue(t,s,n,r,i,o,void 0,!1),this.setGridWithValue(t,s,a,u,d,l,e,!0)},updateGridWithItem:function(t,e){var n=e.id,r=e.x,i=e.y,o=e.width,s=e.height;this.setGridWithValue(t,n,r,i,o,s,e,!0)},removeGridItem:function(t,e,n,r,i){var o=this,a=n.id,u=n.x,d=n.y,l=n.width,c=n.height,p=i.widthPx,f=i.heightPx,h=r.renderMode;this.ensureGridHasRow(e,d),this.setGridWithValue(e,a,u,d,l,c,void 0,!0);var g=r.algo.onGridItemRemoved(n,e,r);return{updatedItems:t.map(function(t){var e=g.find(function(e){return e.id===t.id});if(!e)return null;var n=e.x,i=e.y,a=e.width,u=e.height,d=s({},t,{x:n,y:i,width:a,height:u}),l=o.getItemPosition(p,f,r.gridRows,r.gridColumns,a,u,n,i,h);return d.position=l,d.styles=o.getItemPositionStyles(r,d.styles,l),d}).filter(function(t){return null!=t})}},ensureGridHasRow:function(t,e){t[e]||(t[e]=[])},setGridWithValue:function(t,e,n,i,o,s,a){for(var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=i;d<i+s;d++)for(var l=n;l<n+o;l++){var c=t[d][l];r.default.isDefined(c)&&c.id!=e&&!u||(t[d][l]=a)}},getItemPositionStyles:function(t,e,n){var r=e||{},i=(r.transform,r.left,r.top,o(r,["transform","left","top"]));return"%"===n.ending?s({},i,{left:"".concat(n.leftPct,"%"),top:"".concat(n.topPct,"%"),width:"".concat(n.widthPct,"%"),height:"".concat(n.heightPct,"%")}):t.enableCSS3?s({},i,{width:"".concat(n.widthPx,"px"),height:"".concat(n.heightPx,"px"),transform:"translate(".concat(n.leftPx,"px, ").concat(n.topPx,"px)")}):s({},i,{left:"".concat(n.leftPx,"px"),top:"".concat(n.topPx,"px"),width:"".concat(n.widthPx,"px"),height:"".concat(n.heightPx,"px")})},getGridXY:function(t,e,n){var r=t.gridWidth,i=t.gridHeight,o=t.gridRows,s=t.gridColumns;return{x:this.getGridPosition(r,n,s),y:this.getGridPosition(i,e,o)}},getGridWH:function(t,e,n,r,i){var o=i.gridRows,s=i.gridColumns;return{width:this.getGridPosition(t,n,s),height:this.getGridPosition(e,r,o)}},getGridPosition:function(t,e,n){return Math.max(1,Math.round(e/t*n))},getBoundaryLimitedSizing:function(t,e,n,r,o,s){var a=s.resizeGridDirections,u=s.itemsCanResizeGrid,d=o.rightBoundary,l=o.bottomBoundary,c=u&&a!==i.resizeOptions.y,p=u&&a!==i.resizeOptions.x;return{widthPx:c?n:Math.min(n,d-t),heightPx:p?r:Math.min(r,l-e)}}}},"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);e.default={isDefined:function(t){return void 0!==t&&null!=t},objIsInArray:function(t,e,n){var r=e[n];return null!=t.find(function(t){return t[n]===r})}}},"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(t,e,n){"use strict";n.r(e),n.d(e,"renderModeType",function(){return r}),n.d(e,"resizeOptions",function(){return i}),n.d(e,"defaultItemOptions",function(){return o}),n.d(e,"defaultGridOptions",function(){return a}),n.d(e,"defaultPlaceholderStyles",function(){return s});var r={flex:"flex",fixed:"fixed"},i={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,classes:[],glued:!1,visible:!0,canResize:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},a={gridColumns:12,gridRows:12,width:"100%",height:"100%",itemClassName:"grid-item",classes:[],renderMode:r.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:i.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(t,e,n){},onAllTransitionsComplete:function(t,e,n){},resizeClassName:"snap-resize-handle",enableCSS3:!0,algorithm:null}}})},t.exports=r()},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/helpers.js")}({"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);e.default={isDefined:function(t){return void 0!==t&&null!=t},objIsInArray:function(t,e,n){var r=e[n];return null!=t.find(function(t){return t[n]===r})}}}})},t.exports=r()},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(2),s=n(1),a=n.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=p(this,f(e).call(this,t))).itemRef=i.a.createRef(),n.state={styles:n.props.styles},n}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a.Component),n=e,(r=[{key:"render",value:function(){var t=this,e=this.props.meta.isDragging||this.props.meta.isResizing,n=e?this.state.styles:this.props.styles,r=this.props.meta.placeholderStyles,s=this.props.glued?[].concat(l(this.props.classes),["glued"]).join(" "):this.props.classes.join(" ");return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.DraggableCore,{cancel:".resize-handle",onStart:function(e,n){return t.onDragStart(e,n)},onStop:function(e,n){return t.onDragEnd(e,n)},onDrag:function(e,n){return t.onDrag(e,n)}},i.a.createElement("div",{ref:this.itemRef,className:s,style:n},i.a.createElement("div",null,i.a.createElement("span",null,this.props.x,", ",this.props.y)),i.a.createElement("div",null,i.a.createElement("span",null,this.props.width,", ",this.props.height)),this.props.children,this.props.displayResize&&i.a.createElement(o.DraggableCore,{disabled:this.props.glued,onStart:function(e,n){return t.onResizeStart(e,n,"start")},onStop:function(e,n){return t.onResizeEnd(e,n,"end")},onDrag:function(e,n){return t.onResize(e,n,"drag")}},i.a.createElement("div",{className:"resize-handle"})),this.props.meta.isDragging&&i.a.createElement("div",null,"Dragging"),this.props.meta.isResizing&&i.a.createElement("div",null,"Resizing"))),e&&i.a.createElement("div",{style:r,className:"placeholder"}))}},{key:"componentDidMount",value:function(){this.props.onItemRendered(this.props)}},{key:"onDragStart",value:function(t,e){this.movement={xStart:e.x,yStart:e.y,left:this.props.position.leftPx,top:this.props.position.topPx},this.props.onItemDragStart(this.props)}},{key:"onDragEnd",value:function(t,e){this.props.onItemDragStop(this.props)}},{key:"onDrag",value:function(t,e){var n=this.props.onItemDragged(this.props,{initialMouseX:this.movement.xStart,initialMouseY:this.movement.yStart,currentMouseX:e.x,currentMouseY:e.y,initialTop:this.movement.top,initialLeft:this.movement.left}),r=a.a.getItemPositionStyles(this.props.gridOptions,this.props.styles,n);this.setState({styles:r})}},{key:"onResizeStart",value:function(t,e){this.movement={xStart:e.x,yStart:e.y,width:this.props.position.widthPx,height:this.props.position.heightPx},this.props.onItemResizeStart(this.props)}},{key:"onResizeEnd",value:function(t,e){this.props.onItemResizeStop(this.props)}},{key:"onResize",value:function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){d(t,e,n[e])})}return t}({},this.props),r=this.props.onItemResize(n,{initialMouseX:this.movement.xStart,initialMouseY:this.movement.yStart,currentMouseX:e.x,currentMouseY:e.y,initialWidth:this.movement.width,initialHeight:this.movement.height}),i=a.a.getItemPositionStyles(this.props.gridOptions,this.props.styles,r);this.setState({styles:i})}}])&&c(n.prototype,r),s&&c(n,s),e}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"default",function(){return R});var O={gridOptions:s.defaultGridOptions},I=function(){},R=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=x(this,P(e).call(this,n))).gridRef=i.a.createRef(),t.itemHolderRef=i.a.createRef(),t.state=t.getInitialState(),t.gridOptions=v({},s.defaultGridOptions,t.props.gridOptions),t.grid=a.a.getEmptyGrid(t.gridOptions.gridRows),t.itemsRequiringResync=[],t.bindEventHandlers(),t.onGridPropsChange=n.onGridPropsChange?n.onGridPropsChange:t.defaultGridOptionsChangeHandler,t.gridItems=[],t.setupItemProps=!1,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i.a.Component),n=e,(r=[{key:"getDefaultItemProps",value:function(){return v({},s.defaultItemOptions,{onItemRendered:this.props.onItemRendered||I,onItemDragStart:this.onItemDragStart,onItemDragged:this.onItemDragged,onItemDragStop:this.onItemDragStop,onItemResize:this.onItemResize,onItemResizeStart:this.onItemResizeStart,onItemResizeStop:this.onItemResizeStop,gridOptions:this.gridOptions})}},{key:"render",value:function(){var t=this,e=this.props.className;return this.removeMissingChildren(),this.syncGridProps(),i.a.createElement("div",{ref:this.gridRef,className:e},i.a.createElement("div",{ref:this.itemHolderRef,className:"grid-item-holder",style:this.getGridStyles()},this.state.readyToRenderChildren&&i.a.Children.map(this.props.children,function(e,n){return t.renderGridItem(n,e)})))}},{key:"renderGridItem",value:function(t,e){return i.a.createElement(g,y({key:e.id},this.getGridItemProps(e)),e)}},{key:"updateGridItems",value:function(t){this.gridItems=this.gridItems.map(function(e){var n=t.find(function(t){return t.id==e.id});return n?Object.assign({},e,n):e})}},{key:"defaultGridOptionsChangeHandler",value:function(t){this.gridOptions=t}},{key:"removeMissingChildren",value:function(){var t=this,e=this.props.gridOptions,n=this.props.children.map(function(t){return t.props}),r=[];this.gridItems.forEach(function(i){if(!n.find(function(t){return t.id==i.id})){var o=a.a.removeGridItem(t.gridItems,t.grid,i,e,t.gridSizing);return t.updateGridItems(o.updatedItems),void(o.updatedItems.length>1&&t.onItemsChange(o.updatedItems))}r.push(i)}),this.gridItems=r;var i={};return this.gridItems.forEach(function(e){var r=n.find(function(t){return t.id==e.id}),o=v({},e,r);if(t.itemPositionChanged(e,o)){var s=v({gridOptions:t.gridOptions},t.state,{grid:t.grid,items:t.gridItems,gridSizing:t.gridSizing});a.a.onItemPositionChanged(o,e,s).updatedItems.forEach(function(t){return i[t.id]=t})}}),this.gridItems=this.gridItems.map(function(t){var e=i[t.id];return e||t}),!0}},{key:"componentDidMount",value:function(){this.props.width&&this.props.height||(this.gridSizing=this.calculateGridSizing()),this.setState({readyToRenderChildren:!0})}},{key:"componentDidUpdate",value:function(){this.syncChildProps()}},{key:"generateGridItemProps",value:function(t){var e=this;if(!t.key)throw"No key supplied to SnapperGrid child";var n=this.gridSizing,r=t.props,i=r.height,o=r.width,u=r.x,d=r.y,l=this.gridOptions,c=l.gridRows,p=l.gridColumns,f=l.algo,h=l.renderMode,g=a.a.getItemClasses(t.props),m=a.a.getItemPosition(n.widthPx,n.heightPx,c,p,o,i,u,d,h),y={isDragging:!1,pseudo:!1,isConfigured:!1},b=v({id:t.key},s.defaultItemOptions,t.props,{classes:g,position:m,meta:y}),w=v({},a.a.getItemStyles(t.props),a.a.getItemPositionStyles(this.gridOptions,b.styles,m)),x=f.getItemInitialData?f.getItemInitialData(b):function(){},P=v({},this.state,{grid:this.grid,gridOptions:this.gridOptions,items:this.gridItems,gridSizing:this.gridSizing}),S=v({},this.getDefaultItemProps(),b,{algoData:x,styles:w,meta:y}),O=a.a.addItemToGrid(S,P);return this.movementHasResizedGrid(O.gridSizing,this.gridOptions)&&this.updateGridSizing(O.gridSizing,this.gridOptions),this.updateGridItems(O.updatedItems),O.itemsMoved&&O.updatedItems.forEach(function(t){e.itemsRequiringResync.find(function(e){return e.id===t.id})||e.itemsRequiringResync.push(t)}),v({},O.targetItem,{meta:v({},y,{configured:O.success})})}},{key:"syncChildProps",value:function(){if(this.itemsRequiringResync.length>0){var t=this.itemsRequiringResync;this.itemsRequiringResync=[],this.onItemsChange(t)}}},{key:"syncGridProps",value:function(){this.gridOptions=v({},this.gridOptions,this.props.gridOptions),this.props.width&&this.props.height&&(!this.gridSizing||this.gridSizing.widthPx===this.props.width&&this.gridSizing.heightPx===this.props.height||this.updateItemPositions(),this.gridSizing={widthPx:this.props.width,heightPx:this.props.height}),console.log(this.gridSizing)}},{key:"getInitialState",value:function(){return{readyToRenderChildren:!1,gridRendered:!1}}},{key:"bindEventHandlers",value:function(){this.onItemDragStart=this.onItemDragStart.bind(this),this.onItemDragged=this.onItemDragged.bind(this),this.onItemDragStop=this.onItemDragStop.bind(this),this.onItemResizeStart=this.onItemResizeStart.bind(this),this.onItemResize=this.onItemResize.bind(this),this.onItemResizeStop=this.onItemResizeStop.bind(this)}},{key:"getGridItemProps",value:function(t){var e=this.gridItems.find(function(e){return e.id==t.props.id});return e||(e=this.generateGridItemProps(t),this.gridItems.push(e)),this.props.onItemsChange?v({},e,t.props):e}},{key:"itemPositionChanged",value:function(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}},{key:"onGridRendered",value:function(){var t=this.props.onGridRendered;if(!this.state.gridRendered){this.setState({gridRendered:!0},function(){t&&t()})}}},{key:"calculateGridSizing",value:function(){var t=this.itemHolderRef.current;return t?{widthPx:t.clientWidth,heightPx:t.clientHeight}:null}},{key:"getGridStyles",value:function(){var t=this.gridSizing;return t?{width:"".concat(t.widthPx,"px"),height:"".concat(t.heightPx,"px"),boxSizing:"border-box"}:null}},{key:"onItemDragStart",value:function(t){var e=a.a.onItemDragStart(t),n=e.item;e.success&&(this.updateGridItems([n]),this.onItemsChange([n]))}},{key:"onItemDragged",value:function(t,e){var n=v({},this.state,{grid:this.grid,gridOptions:this.gridOptions,items:this.gridItems,gridSizing:this.gridSizing}),r=a.a.onItemDrag(t,n,e);return r.success&&(this.grid=r.grid,this.movementHasResizedGrid(r.gridSizing,this.gridOptions)&&this.updateGridSizing(r.gridSizing,this.gridOptions),this.updateGridItems(r.updatedItems),this.onItemsChange(r.updatedItems)),r.updatedItems.find(function(e){return e.id==t.id}).position}},{key:"movementHasResizedGrid",value:function(t,e){return e.gridColumns<t.gridColumns||e.gridRows<t.gridRows}},{key:"updateGridSizing",value:function(t,e){var n=e.resizeGridDirections,r=e.itemsCanResizeGrid,i={widthPx:t.widthPx,heightPx:t.heightPx};if(this.gridSizing.widthPx!==i.widthPx||this.gridSizing.heightPx!==i.heightPx){var o=r&&"y"!==n,s=v({},e,{gridRows:r&&"x"!==n?t.gridRows:e.gridRows,gridColumns:o?t.gridColumns:e.gridColumns});this.gridSizing=i,this.gridOptions=s,this.updateItemPositions(),this.props.onGridPropsChange({gridOptions:s,width:i.widthPx,height:i.heightPx})}}},{key:"updateItemPositions",value:function(){var t=this,e=this.gridSizing,n=e.widthPx,r=e.heightPx,i=this.gridOptions,o=i.gridRows,s=i.gridColumns,u=i.renderMode;this.gridItems=this.gridItems.map(function(e){var i=e.width,d=e.height,l=e.x,c=e.y,p=a.a.getItemPosition(n,r,o,s,i,d,l,c,u),f=a.a.getItemPositionStyles(t.gridOptions,e.styles,p);return v({},e,{position:p,styles:v({},e.styles,f)})})}},{key:"onItemsChange",value:function(t){if(this.props.onItemsChange){var e=t.map(function(t){return{id:t.id,x:t.x,y:t.y,width:t.width,height:t.height}});e.length&&this.props.onItemsChange(e)}}},{key:"onItemDragStop",value:function(t){var e=this.gridSizing,n=this.calculateGridSizing(),r=n.widthPx,i=n.heightPx,o=this.gridItems,s=a.a.onItemDragStop(t,o,r,i,this.gridOptions,e);this.updateGridItems([s]),this.onItemsChange([s])}},{key:"onItemResizeStart",value:function(t){var e=a.a.onItemResizeStart(t),n=e.item;e.success&&(this.updateGridItems([n]),this.onItemsChange([n]))}},{key:"onItemResize",value:function(t,e){var n=v({},this.state,{grid:this.grid,gridOptions:this.gridOptions,items:this.gridItems,gridSizing:this.gridSizing}),r=a.a.onItemResize(t,n,e);return r.success&&(this.grid=r.grid,this.movementHasResizedGrid(r.gridSizing,this.gridOptions)&&this.updateGridSizing(r.gridSizing,this.gridOptions),this.updateGridItems(r.updatedItems),this.onItemsChange(r.updatedItems)),r.updatedItems.find(function(e){return e.id==t.id}).position}},{key:"onItemResizeStop",value:function(t){var e=this.gridSizing,n=this.calculateGridSizing(),r=n.widthPx,i=n.heightPx,o=this.gridItems,s=a.a.onItemResizeStop(t,o,r,i,this.gridOptions,e);this.updateGridItems([s]),this.onItemsChange([s])}}])&&w(n.prototype,r),o&&w(n,o),e}()}])});